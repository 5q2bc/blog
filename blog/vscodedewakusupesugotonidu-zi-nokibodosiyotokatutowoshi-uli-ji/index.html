<!doctype html><html lang=jp><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content="index, follow" name=robots><link href=https://5q2bc.github.io/rss.xml rel=alternate title=RSS type=application/rss+xml><title>kauai tech-blog | VSCodeでワークスペースごとに独自のキーボードショートカットを使う裏技</title><link as=style href=https://5q2bc.github.io/css/style.css rel=preload><link crossorigin href=https://raw.githack.com/Speyll/suCSS/main/reset-min.css rel=stylesheet><link crossorigin href=https://raw.githack.com/Speyll/suCSS/main/suCSS-min.css rel=stylesheet><link href=https://5q2bc.github.io/css/style.css rel=stylesheet><link href=https://5q2bc.github.io/css/custom.css rel=stylesheet><link href=https://5q2bc.github.io//logo.png rel=icon><body><nav id=nav-bar><a href=/> /home/ </a><a href=/about> /about/ </a><a href=/blog> /blog/ </a><div aria-label="Toggle theme" class=theme-toggle data-icon-base=https://5q2bc.github.io/icons.svg data-icon-dark=#darkMode data-icon-light=#lightMode data-sound-src=https://5q2bc.github.io/click.ogg id=theme-toggle role=button tabindex=0><svg class=icon><use id=theme-icon></use></svg></div></nav><main><article class=post><header class=post-header><time datetime=2025-07-12>Published on: <span class=accent-data>2025-07-12</span> </time><address rel=author>By <span class=accent-data>5q2bc</span></address><h1>VSCodeでワークスペースごとに独自のキーボードショートカットを使う裏技</h1></header><div class=toc-container><h4>Table of content</h4><ul><li><a href=https://5q2bc.github.io/blog/vscodedewakusupesugotonidu-zi-nokibodosiyotokatutowoshi-uli-ji/#yarukotonogai-yao>やることの概要</a><li><a href=https://5q2bc.github.io/blog/vscodedewakusupesugotonidu-zi-nokibodosiyotokatutowoshi-uli-ji/#wakusupesudenoshe-ding>ワークスペースでの設定</a><li><a href=https://5q2bc.github.io/blog/vscodedewakusupesugotonidu-zi-nokibodosiyotokatutowoshi-uli-ji/#keybinding-jsondenoshe-ding>keybinding.jsonでの設定</a><li><a href=https://5q2bc.github.io/blog/vscodedewakusupesugotonidu-zi-nokibodosiyotokatutowoshi-uli-ji/#owari>おわり</a> <ul><li><a href=https://5q2bc.github.io/blog/vscodedewakusupesugotonidu-zi-nokibodosiyotokatutowoshi-uli-ji/#can-kao>参考</a></ul></ul></div><div class=post-content><p>皆さんはVSCodeに独自のキーボードショートカット追加していますか?<br> よく使う小技的なものや、VSCodeのタスク機能を割り当ててコマンド実行をさせている方も多いんじゃないでしょうか。<p>VSCodeのキーボードショートカット作成はkeybinding.jsonを編集することで可能で、キーボードショートカットごとに発動条件を“When“で指定することができます。<br> 例えば<pre class=language-json data-lang=json style=color:#c5c8c6;background-color:#1e1e1e><code class=language-json data-lang=json><span>	{
</span><span>	</span><span style=color:#90a959>"key"</span><span>: </span><span style=color:#90a959>"ctrl+shift+j"</span><span>,
</span><span>	</span><span style=color:#90a959>"command"</span><span>: </span><span style=color:#90a959>"workbench.action.terminal.focus"</span><span>,
</span><span>	</span><span style=color:#90a959>"when"</span><span>: </span><span style=color:#90a959>"editorTextFocus"
</span><span>	},{
</span><span>	</span><span style=color:#90a959>"key"</span><span>: </span><span style=color:#90a959>"ctrl+shift+j"</span><span>,
</span><span>	</span><span style=color:#90a959>"command"</span><span>: </span><span style=color:#90a959>"workbench.action.focusFirstEditorGroup"</span><span>,
</span><span>	</span><span style=color:#90a959>"when"</span><span>: </span><span style=color:#90a959>"terminalFocus"
</span><span>	},
</span></code></pre><p>とすることで同じctrl+shift+jのショートカットを<ul><li>エディター選択時はターミナルに移動<li>ターミナル選択時はエディターに移動</ul><p>として使うことができます。<br> (話は逸れますが、このショートカットは個人的によく使うもので、ctrl+jのパネル表示/非表示との親和性が高いのでおすすめです)<p>whenの詳しい使い方については <a href=https://code.visualstudio.com/api/references/when-clause-contexts rel=noopener target=_blank>公式の解説</a>を参照してください<p>ですがwhenでは対応できないこんなシチュエーションに遭遇したことはありませんか?<ul><li>同じキーボードショートカットをワークスペースごとに意味を変えたい<li>押しやすいキーの組み合わせをワークスペースごとに意味を変えて使いたい<li>特定のワークスペースだけでしか使わないキーボードショートカットがある</ul><p>これらはVSCodeではワークスペースごとにkeybinding.jsonを置くことができず、whenの機能ではワークスペースを識別できないために生じます。<br> そのため公式にはワークスペースごとに違ったキーボードショートカットを使うことはサポートされていないのですが、今回はこれを(あまりスマートではないが便利な)裏技で回避していきます。<h1 id=yarukotonogai-yao>やることの概要</h1><p>やることとしては至ってシンプルです。<br> ワークスペースごとに定義できないのならばワークスペースごとにフラグを作成し、それを見てキーボードショートカットの有効無効を変えてやろうという作戦になります。<p>具体的には<ol><li>ワークスペースの.vscode/setting.jsonのファイルでワークスペースに固有の設定値にTrueを入れる<li>keybinding.jsonの使いたいキーボードショートカットの“when“で1. で指定した設定値がTrueかどうかの確認をいれる</ol><p>となります。<br> 一つづつ見ていきましょう。<h1 id=wakusupesudenoshe-ding>ワークスペースでの設定</h1><p>ワークスペースの識別のために固有のフラグを作ります。<p>まず使いたいワークスペースを開き、VSCodeのワークスペースごとの設定情報を入れる<code>.vscode/setting.json</code>フォルダに移動します。(なければ作成してください)<p>次に中に次の１行を追加します。<pre class=language-json data-lang=json style=color:#c5c8c6;background-color:#1e1e1e><code class=language-json data-lang=json><span>{
</span><span>	</span><span style=color:#90a959>"workspaceKeybindings.hogehoge_ws.enabled"</span><span>: </span><span style=color:#408080>true</span><span>,
</span><span>}
</span></code></pre><p>ここの“workspaceKeybindings.hogehoge_ws.enabled“はいま適当に考えた名前なので、VSCodeに「不明な構成設定」とか言われてグレーアウトされますが、気にしなくて良いです。<br> 名前もワークスペースごとにお好きなものに変えてください。<p>以上でワークスペース側での設定は終わりです。<h1 id=keybinding-jsondenoshe-ding>keybinding.jsonでの設定</h1><p>keybinding.jsonを編集して、ショートカットがワークスペース側で作ったフラグを判定できるようにします。<p>具体的には下記のようにします。フラグの名前はそれぞれのワークスペースでつけたものと合わせてください。<pre class=language-json data-lang=json style=color:#c5c8c6;background-color:#1e1e1e><code class=language-json data-lang=json><span>	{
</span><span>	</span><span style=color:#90a959>"key"</span><span>: </span><span style=color:#90a959>"ctrl+shift+q"</span><span>,
</span><span>	</span><span style=color:#90a959>"command"</span><span>: </span><span style=color:#90a959>"command_1"</span><span>,
</span><span>	</span><span style=color:#90a959>"when"</span><span>: </span><span style=color:#90a959>"workspaceKeybindings.hogehoge_ws.enabled"</span><span>,
</span><span>	},
</span><span>	{
</span><span>	</span><span style=color:#90a959>"key"</span><span>: </span><span style=color:#90a959>"ctrl+shift+q"</span><span>,
</span><span>	</span><span style=color:#90a959>"command"</span><span>: </span><span style=color:#90a959>"command_2"</span><span>,
</span><span>	</span><span style=color:#90a959>"when"</span><span>: </span><span style=color:#90a959>"workspaceKeybindings.hugahuga_ws.enabled"</span><span>,
</span><span>	},
</span></code></pre><p>↑のようにすると、同じctrl+shift+qのショートカットでworkspaceKeybindings.hogehoge_ws.enabledがTrueにしているワークスペースではcommand_1が、workspaceKeybindings.hugahuga_ws.enabledがTrueにしているワークスペースではcommand_2が実行されます。<h1 id=owari>おわり</h1><p>以上のようにすることでワークスペースごとに独自のキーボードショートカットを使うことができます。<br> ワークスペースだけで完結できないのが玉に瑕ですが、かゆいところに手が届くようになる場合もあると思いますので、参考にしてご活用ください<h2 id=can-kao>参考</h2><p>https://stackoverflow.com/questions/48945319/a-keybindings-json-per-workspace-in-visual-studio-code</div><div class=share-links><span>Share:</span><a href="https://x.com/intent/post?url=https://5q2bc.github.io/blog/vscodedewakusupesugotonidu-zi-nokibodosiyotokatutowoshi-uli-ji/&text=VSCodeでワークスペースごとに独自のキーボードショートカットを使う裏技｜kauai tech-blog" rel="noopener noreferrer" class=share-btn target=_blank> <i class="fa fa-x-twitter"></i> X </a><a rel="noopener noreferrer" class=share-btn href=https://b.hatena.ne.jp/entry/https://5q2bc.github.io/blog/vscodedewakusupesugotonidu-zi-nokibodosiyotokatutowoshi-uli-ji/ target=_blank> <i class="fa fa-hatena"></i> B! </a><a href="https://www.facebook.com/sharer/sharer.php?u=https://5q2bc.github.io/blog/vscodedewakusupesugotonidu-zi-nokibodosiyotokatutowoshi-uli-ji/" rel="noopener noreferrer" class=share-btn target=_blank> <i class="fa fa-facebook-official"></i> Facebook </a></div></article></main><footer><hr><div id=footer-container><p>Made using <a rel="noopener noreferrer" href=https://github.com/Speyll/anemone target=_blank>anemone</a> Zola theme<p>All rights reserved. © 2025 5q2bc</div></footer><script defer src=https://5q2bc.github.io/js/script.js></script><script defer src=https://5q2bc.github.io/js/anchor-link.js></script>